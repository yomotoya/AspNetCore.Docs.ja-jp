---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/precompiling-your-website-cs
title: プリコンパイルの web サイト (c#) |Microsoft Docs
author: rick-anderson
description: Visual Studio は 2 種類のプロジェクトを ASP.NET 開発者に提供します。 Web アプリケーション プロジェクト (Wap) と Web サイト プロジェクト (Wsp)。 主な相違点 betwe のいずれかを指定しています.
ms.author: aspnetcontent
manager: wpickett
ms.date: 06/09/2009
ms.topic: article
ms.assetid: ecd5a4de-beb7-4d1d-bbbb-e31003633267
ms.technology: dotnet-webforms
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/precompiling-your-website-cs
msc.type: authoredcontent
ms.openlocfilehash: abe2c3329129259b9d83cb202fe730eda6abc94d
ms.sourcegitcommit: 953ff9ea4369f154d6fd0239599279ddd3280009
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/03/2018
ms.locfileid: "37369435"
---
<a name="precompiling-your-website-c"></a><span data-ttu-id="ccc9e-104">Web サイト (c#) をプリコンパイルします。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-104">Precompiling Your Website (C#)</span></span>
====================
<span data-ttu-id="ccc9e-105">によって[Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="ccc9e-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="ccc9e-106">[コードのダウンロード](http://download.microsoft.com/download/1/0/C/10CC829F-A808-4302-97D3-59989B8F9C01/ASPNET_Hosting_Tutorial_15_CS.zip)または[PDF のダウンロード](http://download.microsoft.com/download/5/C/5/5C57DB8C-5DEA-4B3A-92CA-4405544D313B/aspnet_tutorial15_Precompiling_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="ccc9e-106">[Download Code](http://download.microsoft.com/download/1/0/C/10CC829F-A808-4302-97D3-59989B8F9C01/ASPNET_Hosting_Tutorial_15_CS.zip) or [Download PDF](http://download.microsoft.com/download/5/C/5/5C57DB8C-5DEA-4B3A-92CA-4405544D313B/aspnet_tutorial15_Precompiling_cs.pdf)</span></span>

> <span data-ttu-id="ccc9e-107">Visual Studio は 2 種類のプロジェクトを ASP.NET 開発者に提供します。 Web アプリケーション プロジェクト (Wap) と Web サイト プロジェクト (Wsp)。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-107">Visual Studio offers ASP.NET developers two types of projects: Web Application Projects (WAPs) and Web Site Projects (WSPs).</span></span> <span data-ttu-id="ccc9e-108">2 つのプロジェクトの種類の主な違いの 1 つは、Wap WSP 内のコードは、web サーバー上に自動的にコンパイルできますが、展開する前に明示的にコンパイルされたコードがある必要があります。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-108">One of the key differences between the two project types is that WAPs must have the code explicitly compiled prior to deployment whereas the code in a WSP can be automatically compiled on the web server.</span></span> <span data-ttu-id="ccc9e-109">ただし、展開する前に、WSP をプリコンパイルすることができます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-109">However, it is possible to precompile a WSP prior to deployment.</span></span> <span data-ttu-id="ccc9e-110">このチュートリアルでは、プリコンパイルの利点について説明し、コマンドラインから Visual Studio 内からサイトをプリコンパイルする方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-110">This tutorial explores the benefits of precompilation and shows how to precompile a website from within Visual Studio and from the command line.</span></span>


## <a name="introduction"></a><span data-ttu-id="ccc9e-111">はじめに</span><span class="sxs-lookup"><span data-stu-id="ccc9e-111">Introduction</span></span>

<span data-ttu-id="ccc9e-112">Visual Studio は 2 種類のプロジェクトのさまざまな ASP.NET 開発者に提供します。 Web アプリケーション プロジェクト (WAP) および Web サイト プロジェクト (WSP)。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-112">Visual Studio offers ASP.NET developers two different project types: Web Application Projects (WAP) and Web Site Projects (WSP).</span></span> <span data-ttu-id="ccc9e-113">これらのプロジェクト タイプの主な違いの 1 つは、Wap を必要とする*の明示的なコンパイル*Wsp を使用して、一方*自動コンパイル*、既定では。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-113">One of the key differences between these project types is that WAPs require *explicit compilation* whereas WSPs use *automatic compilation*, by default.</span></span> <span data-ttu-id="ccc9e-114">Wap で、web サイトに作成されている 1 つのアセンブリに web アプリケーションのコードをコンパイルする`Bin`フォルダー。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-114">With WAPs, you compile the web application's code into a single assembly, which is created in the website's `Bin` folder.</span></span> <span data-ttu-id="ccc9e-115">展開では、マークアップの内容をコピーする必要があります (、 `.aspx.ascx`、および`.master`ファイル) 内のアセンブリと共に、プロジェクトで、`Bin`フォルダーは分離コード クラス ファイル自体は、展開する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-115">Deployment entails copying the markup content (the `.aspx.ascx`, and `.master` files) in the project, along with the assembly in the `Bin` folder; the code-behind class files themselves do not need to be deployed.</span></span> <span data-ttu-id="ccc9e-116">その一方で、運用環境にマークアップ ページと、対応する分離コード クラスの両方をコピーして Wsp を配置するとします。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-116">On the other hand, you deploy WSPs by copying both the markup pages and their corresponding code-behind classes to the production environment.</span></span> <span data-ttu-id="ccc9e-117">分離コード クラスは、web サーバーでオンデマンドでコンパイルされます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-117">The code-behind classes are compiled on demand on the web server.</span></span>

> [!NOTE]
> <span data-ttu-id="ccc9e-118">「明示的なコンパイルと自動コンパイル」セクションに戻って、 [*を決定する必要のあるファイルを展開する*チュートリアル](determining-what-files-need-to-be-deployed-cs.md)プロジェクト間の違いに関する背景情報についてモデル、明示的なと自動のコンパイル、およびコンパイル モデルが配置に影響します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-118">Refer back to the "Explicit Compilation Versus Automatic Compilation" section in the [*Determining What Files Need to Be Deployed* tutorial](determining-what-files-need-to-be-deployed-cs.md) for more background on the differences between the project models, explicit and automatic compilation, and how the compilation model affects deployment.</span></span>


<span data-ttu-id="ccc9e-119">自動コンパイル オプションは、簡単に使用します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-119">The automatic compilation option is simple to use.</span></span> <span data-ttu-id="ccc9e-120">明示的なコンパイル手順がないとされているファイルのみの変更が必要とマークアップが変更されたページだけでコンパイルされたアセンブリを展開する明示的なコンパイルが必要ですが、展開します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-120">There's no explicit compilation step and only the files that have been modified need to be deployed, whereas explicit compilation necessitates deploying the changed markup pages and the just-compiled assembly.</span></span> <span data-ttu-id="ccc9e-121">ただし、自動展開では、2 つの潜在的な欠点があります。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-121">However, automatic deployment has two potential drawbacks:</span></span>

- <span data-ttu-id="ccc9e-122">ページは、最初のアクセス時に自動的にコンパイルする必要があります、ために、最初に展開された後、ASP.NET ページが要求されたときに短いも顕著な遅延が発生することができますがあります。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-122">Because the pages must be automatically compiled when they are first visited, there can be a short but noticeable delay when an ASP.NET page is requested for the first time after being deployed.</span></span>
- <span data-ttu-id="ccc9e-123">自動コンパイルは、宣言型マークアップとソースの両方のコードが web サーバー上に存在することが必要です。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-123">Automatic compilation requires that both the declarative markup and source code be present on the web server.</span></span> <span data-ttu-id="ccc9e-124">顧客が web サーバーにインストールしたユーザーに web アプリケーションの販売を計画する場合は、魅力的ではありませんオプションにできます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-124">This can be an unattractive option if you plan on selling the web application to customers who will install it on their web servers.</span></span>

<span data-ttu-id="ccc9e-125">場合、上記の欠点、2 つの取引ブレーカーは、WAP モデルに切り替えるかを実行できますまたは*プリコンパイル*WSP 展開する前にします。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-125">If either of the two above shortcomings are deal breakers, you can either switch to the WAP model or *precompile* the WSP prior to deployment.</span></span> <span data-ttu-id="ccc9e-126">このチュートリアルは、ホストされる web サイトに最適なプリコンパイルのオプションを調べ、プリコンパイル プロセスと、プリコンパイル済みの web サイトの展開方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-126">This tutorial examines the precompilation options best suited for a hosted website and walks through the precompilation process and deployment of a precompiled website.</span></span>

## <a name="an-overview-of-aspnet-code-generation-and-compilation"></a><span data-ttu-id="ccc9e-127">ASP.NET コードの生成とコンパイルの概要</span><span class="sxs-lookup"><span data-stu-id="ccc9e-127">An Overview of ASP.NET Code Generation and Compilation</span></span>

<span data-ttu-id="ccc9e-128">使用可能なプリコンパイル オプションを見ると、前にまずについて説明しましょうコードの生成とコンパイルを作成または最後に更新された後、初めての ASP.NET ページが要求されたときに発生します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-128">Before we look at the available precompilation options, let's first talk about the code generation and compilation that occurs when an ASP.NET page is requested for the first time since it's been created or last updated.</span></span> <span data-ttu-id="ccc9e-129">ASP.NET ページが 2 つの部分から成る、ご存知のと: 宣言型マークアップで、`.aspx`ファイルと分離コード クラス ファイルでは通常、ソース コードの部分 (`.aspx.cs`)。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-129">As you know, ASP.NET pages are composed of two portions: declarative markup in the `.aspx` file; and a source code portion, typically in a separate code-behind class file (`.aspx.cs`).</span></span> <span data-ttu-id="ccc9e-130">ASP.NET ページが要求されたときに、ランタイムによって実行される手順は、アプリケーションのコンパイル モデルによって異なります。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-130">The steps performed by the runtime when an ASP.NET page is requested depends on the application's compilation model.</span></span>

<span data-ttu-id="ccc9e-131">Wap でページのソース コードを明示的にデプロイする前に 1 つのアセンブリにコンパイルする必要があります。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-131">With WAPs, the pages' source code must be explicitly compiled into a single assembly before being deployed.</span></span> <span data-ttu-id="ccc9e-132">デプロイ時に、このアセンブリは、マークアップのさまざまなページが、運用環境にコピーされます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-132">During deployment, this assembly and the various markup pages are copied to the production environment.</span></span> <span data-ttu-id="ccc9e-133">ランタイムが、ページの分離コード クラスのインスタンスを作成し、呼び出す ASP.NET ページの web サーバーへの要求が到着すると、その`ProcessRequest`メソッドでは、ページのライフ サイクルを開始し、最終的には、返されるページのコンテンツを生成します要求元。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-133">When a request arrives to the web server for an ASP.NET page, the runtime creates an instance of the page's code-behind class and invokes its `ProcessRequest` method, which starts the page lifecycle and, ultimately, generates the page's content, which is returned to the requestor.</span></span> <span data-ttu-id="ccc9e-134">ランタイムは、分離コード クラスが展開する前にアセンブリにコンパイルが既にあるために、ASP.NET ページの分離コード クラスを操作できます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-134">The runtime can work with the ASP.NET page's code-behind class because the code-behind class was already compiled into an assembly prior to deployment.</span></span>

<span data-ttu-id="ccc9e-135">Wsp と自動のコンパイル、展開する前に明示的なコンパイル手順はありません。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-135">With WSPs and automatic compilation, there is no explicit compilation step prior to deployment.</span></span> <span data-ttu-id="ccc9e-136">代わりに、展開では、運用環境に、宣言型とソース コードの内容をコピーする必要があります。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-136">Instead, deployment involves copying both the declarative and the source code content to the production environment.</span></span> <span data-ttu-id="ccc9e-137">要求が到着すると、ASP.NET ページの web サーバーへ最初にページが作成または最後に更新されたため、ランタイムがアセンブリに分離コード クラスをコンパイルする必要があります最初。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-137">When a request arrives to the web server for an ASP.NET page for the first time since the page has been created or last updated, the runtime must first compile the code-behind class into an assembly.</span></span> <span data-ttu-id="ccc9e-138">このコンパイル済みアセンブリは、フォルダーに保存される`%WINDIR%\Microsoft.NET\Framework\v2.0.50727\Temporary ASP.NET Files`からこのフォルダーの場所をカスタマイズできますが、`<compilation tempDirectory="" />`要素の`<system.web>`では、通常、`Web.config`します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-138">This compiled assembly is saved in the folder `%WINDIR%\Microsoft.NET\Framework\v2.0.50727\Temporary ASP.NET Files`, although the location of this folder can be customized via the `<compilation tempDirectory="" />` element of `<system.web>`, usually in `Web.config`.</span></span> <span data-ttu-id="ccc9e-139">アセンブリがあるためディスクに保存する必要はありません、同じページに対する後続の要求時に再コンパイルします。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-139">Because the assembly is saved to disk, it does not need to be recompiled on subsequent requests to the same page.</span></span>

> [!NOTE]
> <span data-ttu-id="ccc9e-140">サーバー ページのコードをコンパイルし、生成されたアセンブリを保存するまで少し時間がかかるように、自動コンパイルを使用しているサイトに初めて (または最初の時刻が変更されたため)、ページを要求するときにわずかに遅延が認識が期待どおりには、ディスク。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-140">As you would expect, there is a slight delay when requesting a page for the first time (or for the first time since it's been changed) in a site that uses automatic compilation as it takes a moment for the server to compile the page's code and save the resulting assembly to disk.</span></span>


<span data-ttu-id="ccc9e-141">つまり、明示的なコンパイルとする必要は、展開前に、web サイトのソース コードをコンパイルするその手順を実行することから、ランタイムを保存しています。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-141">In short, with explicit compilation you are required to compile the website's source code before deployment, saving the runtime from having to perform that step.</span></span> <span data-ttu-id="ccc9e-142">自動のコンパイルと、ランタイムが作成または最後に更新されたため、ページに初めてアクセスのコンパイル、ページのソース コードのわずかな初期化コストを処理します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-142">With automatic compilation the runtime handles the compilation of the pages' source code, but with a slight initialization cost for the first visit to the page since it was created or last updated.</span></span>

<span data-ttu-id="ccc9e-143">ASP.NET ページの宣言型の一部 (、`.aspx`ファイル) ですか?</span><span class="sxs-lookup"><span data-stu-id="ccc9e-143">But what about the declarative part of ASP.NET pages (the `.aspx` file)?</span></span> <span data-ttu-id="ccc9e-144">間の関係があることが明確では、`.aspx`ファイルと、宣言型マークアップで定義されている Web コントロールとその分離コード クラスのコードは、コードでアクセスできるようにします。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-144">It's obvious that there's a relationship between the `.aspx` files and the code in their code-behind classes, as the Web controls defined in the declarative markup are accessible in the code.</span></span> <span data-ttu-id="ccc9e-145">明らかにもを内のコンテンツ、`.aspx`ファイルは、ページによって生成された出力されるマークアップが大きく影響します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-145">It's also obvious that the content in the `.aspx` files greatly influences the rendered markup generated by the page.</span></span> <span data-ttu-id="ccc9e-146">ランタイム、テキスト、HTML と連携し、Web コントロールの構文で定義されているどのように、`.aspx`要求されたページを生成するファイルがコンテンツをレンダリングでしょうか。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-146">So how does the runtime work with the text, HTML, and Web control syntax defined in the `.aspx` file to generate the requested page's rendered content?</span></span>

<span data-ttu-id="ccc9e-147">Wap と Wsp によって異なります、低レベルの実装の詳細に気を取らすぎるしないが、ランタイムが自動的に保護されたメンバーとメソッドとして、さまざまな Web コントロールを含むクラス ファイルを生成一言で言う。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-147">I don't want to get too sidetracked on the low-level implementation details, which vary between WAPs and WSPs, but in a nutshell the runtime automatically generates a class file that contains the various Web controls as protected members and methods.</span></span> <span data-ttu-id="ccc9e-148">この生成されたファイルは、*部分クラス*を対応する分離コード クラスにします。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-148">This generated file is implemented as a *partial class* to the corresponding code-behind class.</span></span> <span data-ttu-id="ccc9e-149">([部分クラス](http://www.dotnet-guide.com/partialclasses.html)複数のファイルに分散し、1 つのクラスの内容を許可します)。そのため、分離コード クラスが 2 つの場所で定義: で、`.aspx.cs`ファイルを作成し、この自動生成されたクラスでは、ランタイムによって作成します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-149">([Partial classes](http://www.dotnet-guide.com/partialclasses.html) allow for the contents of a single class to be spread across multiple files.) Therefore, the code-behind class is defined in two places: in the `.aspx.cs` file that you create, and in this auto-generated class created by the runtime.</span></span> <span data-ttu-id="ccc9e-150">この自動生成されたクラスは、`%WINDIR%\Microsoft.NET\Framework\v2.0.50727\Temporary ASP.NET Files`フォルダー。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-150">This auto-generated class is stored in the `%WINDIR%\Microsoft.NET\Framework\v2.0.50727\Temporary ASP.NET Files` folder.</span></span>

<span data-ttu-id="ccc9e-151">重要な取り去るここでは、ランタイムによってレンダリングされる ASP.NET ページの両方の宣言型と、ソース コードの部分は、アセンブリにコンパイルする必要があります。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-151">The important take away here is that for an ASP.NET page to be rendered by the runtime both its declarative and source code portions must be compiled into an assembly.</span></span> <span data-ttu-id="ccc9e-152">Wap、ソース コードは、展開前にアセンブリにコンパイルに明示的が、宣言型マークアップがコードに変換し web サーバーで、ランタイムによってコンパイルもする必要があります。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-152">With WAPs, the source code is explicitly compiled into an assembly prior to deployment, but the declarative markup must still be converted into code and compiled by the runtime on the web server.</span></span> <span data-ttu-id="ccc9e-153">Wsp の自動コンパイルを使用して、両方のソース コードおよび宣言型マークアップは、web サーバーでコンパイルする必要があります。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-153">With WSPs using automatic compilation, both the source code and the declarative markup need to be compiled by the web server.</span></span>

<span data-ttu-id="ccc9e-154">WSP モデルでの明示的なコンパイルを使用することになります。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-154">It is possible to use explicit compilation with the WSP model.</span></span> <span data-ttu-id="ccc9e-155">WAP モデルでのようなソース コード部分を明示的にコンパイルできます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-155">You can explicitly compile the source code portion, like with the WAP model.</span></span> <span data-ttu-id="ccc9e-156">さらに、宣言型マークアップをコンパイルすることもできます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-156">What's more, you can also compile the declarative markup.</span></span>

## <a name="precompilation-options"></a><span data-ttu-id="ccc9e-157">プリコンパイル オプション</span><span class="sxs-lookup"><span data-stu-id="ccc9e-157">Precompilation Options</span></span>

<span data-ttu-id="ccc9e-158">.NET Framework に付属する[ASP.NET コンパイル ツール (`aspnet_compiler.exe`)](https://msdn.microsoft.com/library/ms229863.aspx) WSP モデルを使用して構築された ASP.NET アプリケーションのソース コード (およびコンテンツも) をコンパイルすることができます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-158">The .NET Framework ships with an [ASP.NET compilation tool (`aspnet_compiler.exe`)](https://msdn.microsoft.com/library/ms229863.aspx) that enables you to compile the source code (and even the content) of an ASP.NET application built using the WSP model.</span></span> <span data-ttu-id="ccc9e-159">このツールが、.NET Framework version 2.0 でリリースされ、記載されています、`%WINDIR%\Microsoft.NET\Framework\v2.0.50727`フォルダーは、コマンドラインから使用するか、[ビルド] メニューの Web サイトの発行オプションを使用して Visual Studio 内から起動します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-159">This tool was released with the .NET Framework version 2.0 and is located in the `%WINDIR%\Microsoft.NET\Framework\v2.0.50727` folder; it can be used from the command line or launched from within Visual Studio via the Build menu's Publish Web Site option.</span></span>

<span data-ttu-id="ccc9e-160">コンパイル ツールには、コンパイルの 2 つの一般的な形式が用意されています。 インプレース プリコンパイルと展開のプリコンパイルします。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-160">The compilation tool provides two general forms of compilation: in-place precompilation and precompilation for deployment.</span></span> <span data-ttu-id="ccc9e-161">インプレースでプリコンパイルを使用する実行、`aspnet_compiler.exe`から、コマンド ライン ツールをコンピューターに仮想ディレクトリまたは存在する web サイトの物理パスへのパスを指定します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-161">With in-place precompilation you run the `aspnet_compiler.exe` tool from the command-line and specify the path to the virtual directory or physical path of a website that resides on your computer.</span></span> <span data-ttu-id="ccc9e-162">コンパイル ツールでコンパイルされたバージョンを格納する、プロジェクト内の各 ASP.NET ページをコンパイルし、`%WINDIR%\Microsoft.NET\Framework\v2.0.50727\Temporary ASP.NET Files`場合、ページが各されて初めてブラウザーからのアクセス、同様のフォルダー。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-162">The compilation tool then compiles each ASP.NET page in the project, storing the compiled version in the `%WINDIR%\Microsoft.NET\Framework\v2.0.50727\Temporary ASP.NET Files` folder just like if the pages had each been visited for the first time from a browser.</span></span> <span data-ttu-id="ccc9e-163">インプレースでプリコンパイルは、この手順を実行する必要があるからランタイムを軽減するため、サイトで、新しくデプロイされた ASP.NET ページに対する最初の要求を短縮できます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-163">In-place precompilation can speed up the first request made to newly deployed ASP.NET pages on your site because it alleviates the runtime from needing to perform this step.</span></span> <span data-ttu-id="ccc9e-164">ただし、コマンド ラインから web サーバーのプログラムを実行している必要があるためインプレースでプリコンパイルは多数のホストされる web サイトに適していません。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-164">However, in-place precompilation is not useful for the majority of hosted websites because it requires that you are able to run programs from the web server's command-line.</span></span> <span data-ttu-id="ccc9e-165">共有ホスティング環境でこのレベルのアクセスが許可されていません。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-165">In shared hosting environments this level of access is not permitted.</span></span>

> [!NOTE]
> <span data-ttu-id="ccc9e-166">インプレースでプリコンパイルの詳細については、チェック アウト[How To: ASP.NET Web サイトのプリコンパイル](https://msdn.microsoft.com/library/ms227972.aspx)と[ASP.NET 2.0 でプリコンパイル](http://www.odetocode.com/Articles/417.aspx)します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-166">For more information on in-place precompilation, check out [How To: Precompile ASP.NET Web Sites](https://msdn.microsoft.com/library/ms227972.aspx) and [Precompilation in ASP.NET 2.0](http://www.odetocode.com/Articles/417.aspx).</span></span>


<span data-ttu-id="ccc9e-167">Web サイトのページをコンパイルする代わりに、`Temporary ASP.NET Files`フォルダー、展開のプリコンパイル コンパイル、ページを選択して、運用環境に展開できる形式でのディレクトリにします。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-167">Instead of compiling the pages in the website to the `Temporary ASP.NET Files` folder, precompilation for deployment compiles the pages to a directory of your choosing and in a format that can be deployed to the production environment.</span></span>

<span data-ttu-id="ccc9e-168">このチュートリアルで説明する展開のプリコンパイルの 2 種類あります。 更新可能なユーザー インターフェイスでは、プリコンパイルとプリコンパイルを更新できないユーザー インターフェイスを使用します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-168">There are two flavors of precompilation for deployment that we explore in this tutorial: precompilation with an updatable user interface, and precompilation with a non-updatable user interface.</span></span> <span data-ttu-id="ccc9e-169">更新可能なユーザー インターフェイスでプリコンパイルのままで、宣言型マークアップ、 `.aspx`、 `.ascx`、および`.master`ファイル、により、開発者を表示し、必要な場合は、実稼働サーバー上の宣言型マークアップを変更します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-169">Precompilation with an updatable user interface leaves the declarative markup in the `.aspx`, `.ascx`, and `.master` files, thereby allowing a developer to view and, if desired, modify the declarative markup on the production server.</span></span> <span data-ttu-id="ccc9e-170">更新を可能なユーザー インターフェイスを備えたプリコンパイルが生成されます`.aspx`ページの任意のコンテンツの削除は void である`.ascx`と`.master`ファイル、それによって宣言型マークアップを非表示にし、開発者がから変更を禁止すること、運用環境です。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-170">Precompilation with a non-updatable user interface generates `.aspx` pages that are void of any content and removes `.ascx` and `.master` files, thereby hiding the declarative markup and prohibiting a developer from changing it from the production environment.</span></span>

### <a name="precompiling-for-deployment-with-an-updatable-user-interface"></a><span data-ttu-id="ccc9e-171">更新可能なユーザー インターフェイスを使用したデプロイのためのプリコンパイル</span><span class="sxs-lookup"><span data-stu-id="ccc9e-171">Precompiling for Deployment With an Updatable User Interface</span></span>

<span data-ttu-id="ccc9e-172">展開のプリコンパイルを理解する最善の方法では、アクションでは、例を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-172">The best way to understand precompilation for deployment is to see an example in action.</span></span> <span data-ttu-id="ccc9e-173">更新可能なユーザー インターフェイスを使用した展開書籍レビューの WSP をプリコンパイルしてみましょう。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-173">Let's precompile the Book Reviews WSP for deployment using an updatable user interface.</span></span> <span data-ttu-id="ccc9e-174">ASP.NET コンパイル ツールは、Visual Studio のビルド メニューから、またはコマンドラインから起動できます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-174">The ASP.NET compilation tool can be invoked from Visual Studio's Build menu or from the command-line.</span></span> <span data-ttu-id="ccc9e-175">ここでは、Visual Studio 内からツールを使用します。「プリコンパイル コマンドラインから」セクションでは、コマンドラインからコンパイラ ツールを実行します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-175">This section examines using the tool from within Visual Studio; the "Precompiling from the Command Line" section looks at running the compiler tool from the command line.</span></span>

<span data-ttu-id="ccc9e-176">Visual Studio で、書籍レビューの WSP を開く、ビルド メニューに移動し、Web サイトの発行 メニュー オプションを選択します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-176">Open the Book Review WSP in Visual Studio, go to the Build menu, and select the Publish Web Site menu option.</span></span> <span data-ttu-id="ccc9e-177">Web サイトの発行 ダイアログ ボックスが起動 (を参照してください**図 1**)、ターゲットの場所、プリコンパイル済みサイトのユーザー インターフェイスが更新可能かどうかおよびその他のコンパイラ ツールのオプションを指定できます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-177">This launches the Publish Web Site dialog box (see **Figure 1**), where you can specify the target location, whether or not the precompiled site's user interface is updatable, and other compiler tool options.</span></span> <span data-ttu-id="ccc9e-178">ターゲットの場所は、リモート web サーバーまたは FTP サーバーが、ここでは、コンピューターのハード ドライブ上のフォルダーを選択します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-178">The target location can be a remote web server or FTP server, but for now choose a folder on your computer's hard drive.</span></span> <span data-ttu-id="ccc9e-179">更新可能なユーザー インターフェイスを使用して、サイトをプリコンパイルするため"このプリコンパイル済みサイトを更新を許可する チェック ボックスをオンのままにし、ok をクリックします。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-179">Because we want to precompile the site with an updatable user interface, leave the "Allow this precompiled site to be updatable" checkbox checked and click OK.</span></span>

[![](precompiling-your-website-cs/_static/image2.png)](precompiling-your-website-cs/_static/image1.png)

<span data-ttu-id="ccc9e-180">**図 1**: 指定されたターゲットの場所に、web サイトをプリコンパイルする ASP.NET コンパイル ツール</span><span class="sxs-lookup"><span data-stu-id="ccc9e-180">**Figure 1**: The ASP.NET Compilation Tool Will Precompile Your Website to the Specified Target Location</span></span>  
 <span data-ttu-id="ccc9e-181">([フルサイズの画像を表示する をクリックします](precompiling-your-website-cs/_static/image3.png))。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-181">([Click to view full-size image](precompiling-your-website-cs/_static/image3.png))</span></span>

> [!NOTE]
> <span data-ttu-id="ccc9e-182">[ビルド] メニューで、Web サイトの発行オプションは、Visual Web Developer でご利用いただけません。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-182">The Publish Web Site option in the Build menu is not available in Visual Web Developer.</span></span> <span data-ttu-id="ccc9e-183">Visual Web Developer を使用している場合は、「プリコンパイル コマンドラインから」のセクションで説明が ASP.NET コンパイル ツールのコマンド ライン バージョンを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-183">If you are using Visual Web Developer you will need to use the command-line version of the ASP.NET compilation tool, which is covered in the "Precompiling from the Command Line" section.</span></span>


<span data-ttu-id="ccc9e-184">Web サイトをプリコンパイルした後は、Web サイトの発行 ダイアログ ボックスで入力したターゲットの場所に移動します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-184">After precompiling the website, navigate to the target location you entered in the Publish Web Site dialog box.</span></span> <span data-ttu-id="ccc9e-185">Web サイトの内容をこのフォルダーの内容を比較する時間がかかります。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-185">Take a moment to compare the contents of this folder with the contents of your website.</span></span> <span data-ttu-id="ccc9e-186">**図 2**書籍レビューの web サイト フォルダーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-186">**Figure 2** shows the Book Reviews website folder.</span></span> <span data-ttu-id="ccc9e-187">両方が含まれているメモ`.aspx`と`.aspx.cs`ファイル。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-187">Note that it contains both `.aspx` and `.aspx.cs` files.</span></span> <span data-ttu-id="ccc9e-188">また、`Bin`ディレクトリには、1 つのファイルが含まれています`Elmah.dll`、で追加されたが、[前のチュートリアル。](logging-error-details-with-elmah-cs.md)</span><span class="sxs-lookup"><span data-stu-id="ccc9e-188">Also, note that the `Bin` directory includes only one file, `Elmah.dll`, which we added in the [preceding tutorial](logging-error-details-with-elmah-cs.md)</span></span>

[![](precompiling-your-website-cs/_static/image5.png)](precompiling-your-website-cs/_static/image4.png)

<span data-ttu-id="ccc9e-189">**図 2**: プロジェクト ディレクトリに含まれる`.aspx`と`.aspx.cs`ファイル;、`Bin`だけフォルダーが含まれています `Elmah.dll`</span><span class="sxs-lookup"><span data-stu-id="ccc9e-189">**Figure 2**: The Project Directory Contains `.aspx` and `.aspx.cs` Files; the `Bin` Folder Includes Just `Elmah.dll`</span></span>  
 <span data-ttu-id="ccc9e-190">([フルサイズの画像を表示する をクリックします](precompiling-your-website-cs/_static/image6.png))。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-190">([Click to view full-size image](precompiling-your-website-cs/_static/image6.png))</span></span>

<span data-ttu-id="ccc9e-191">**図 3**内容は、ASP.NET コンパイル ツールによって作成されたターゲットの場所フォルダーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-191">**Figure 3** shows the target location folder whose contents were created by the ASP.NET compilation tool.</span></span> <span data-ttu-id="ccc9e-192">このフォルダーにすべての分離コード ファイルが含まれていません。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-192">This folder does not contain any code-behind files.</span></span> <span data-ttu-id="ccc9e-193">さらに、このフォルダーの`Bin`ディレクトリは、いくつかのアセンブリと 2 つ含まれています。`.compiled`ファイルに加え、`Elmah.dll`アセンブリ。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-193">Moreover, this folder's `Bin` directory includes several assemblies and two `.compiled` files in addition to the `Elmah.dll` assembly.</span></span>

[![](precompiling-your-website-cs/_static/image8.png)](precompiling-your-website-cs/_static/image7.png)

<span data-ttu-id="ccc9e-194">**図 3**: ターゲットの場所のフォルダーには、ファイルには展開が含まれています</span><span class="sxs-lookup"><span data-stu-id="ccc9e-194">**Figure 3**: The Target Location Folder Includes the Files for Deployment</span></span>  
 <span data-ttu-id="ccc9e-195">([フルサイズの画像を表示する をクリックします](precompiling-your-website-cs/_static/image9.png))。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-195">([Click to view full-size image](precompiling-your-website-cs/_static/image9.png))</span></span>

<span data-ttu-id="ccc9e-196">Wap での明示的なコンパイルとは異なり、展開プロセスのプリコンパイルは、サイト全体の 1 つのアセンブリを作成できません。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-196">Unlike explicit compilation in WAPs, the precompilation for deployment process does not create one assembly for the entire site.</span></span> <span data-ttu-id="ccc9e-197">代わりに、そのバッチ処理まとめていくつかのページ アセンブリごとにします。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-197">Instead, it batches together several pages into each assembly.</span></span> <span data-ttu-id="ccc9e-198">さらにコンパイル、 `Global.asax` (ある場合) をファイル内の任意のクラスと同様に、独自のアセンブリを`App_Code`フォルダー。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-198">It also compiles the `Global.asax` file (if present) into its own assembly, as well as any classes in the `App_Code` folder.</span></span> <span data-ttu-id="ccc9e-199">ASP.NET の宣言型マークアップを保持するファイルは web ページ、ユーザー コントロール、およびマスター ページ (`.aspx`、 `.ascx`、および`.master`ファイルをそれぞれ) としてコピーされます-ターゲットの場所のディレクトリには。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-199">The files that hold the declarative markup for ASP.NET web pages, User Controls, and master pages (`.aspx`, `.ascx`, and `.master` files, respectively) are copied as-is to the target location directory.</span></span> <span data-ttu-id="ccc9e-200">同様に、`Web.config`イメージ、CSS クラス、および PDF ファイルなどの任意の静的ファイルと共にまっすぐ上、ファイルがコピーされます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-200">Likewise, the `Web.config` file is copied straight over, along with any static files, such as images, CSS classes, and PDF files.</span></span> <span data-ttu-id="ccc9e-201">コンパイル ツールがさまざまなを処理する方法のより正式な説明については、ファイルの種類を参照してください[ASP.NET プリコンパイル中にファイルを処理](https://msdn.microsoft.com/library/e22s60h9.aspx)します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-201">For a more formal description of how the compilation tool handles various file types, refer to [File Handling During ASP.NET Precompilation](https://msdn.microsoft.com/library/e22s60h9.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="ccc9e-202">Web サイトの発行 ダイアログ ボックスの「固定名を使用してシングル ページ アセンブリ」のチェック ボックスをオンして ASP.NET ページ、ユーザー コントロール、またはマスター ページごとに 1 つのアセンブリを作成するコンパイル ツールに指示できます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-202">You can instruct the compilation tool to create one assembly per ASP.NET page, User Control, or master page by checking the "Used fixed naming and single page assemblies" checkbox from the Publish Web Site dialog box.</span></span> <span data-ttu-id="ccc9e-203">各 ASP.NET ページが独自のアセンブリにコンパイル、展開をより細かく制御できます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-203">Having each ASP.NET page compiled into its own assembly allows for more fine-grained control over deployment.</span></span> <span data-ttu-id="ccc9e-204">たとえば、単一の ASP.NET web ページを更新してその変更をデプロイするために必要な場合必要がありますのみを展開するページの`.aspx`ファイルと運用環境に関連付けられているアセンブリ。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-204">For example, if you updated a single ASP.NET web page and needed to deploy that change, you need only deploy that page's `.aspx` file and associated assembly to the production environment.</span></span> <span data-ttu-id="ccc9e-205">参照してください[How To: ASP.NET コンパイル ツールを使用しての固定の名前を生成](https://msdn.microsoft.com/library/ms228040.aspx)詳細についてはします。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-205">Consult [How To: Generate Fixed Names with the ASP.NET Compilation Tool](https://msdn.microsoft.com/library/ms228040.aspx) for more information.</span></span>


<span data-ttu-id="ccc9e-206">ターゲットの場所のディレクトリは、プリコンパイル済みの web プロジェクトの一部を namely いなかったファイルも含まれています。`PrecompiledApp.config`します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-206">The target location directory also contains a file that was not part of the precompiled web project, namely `PrecompiledApp.config`.</span></span> <span data-ttu-id="ccc9e-207">このファイルは、アプリケーションがプリコンパイルされた ASP.NET ランタイムと、更新可能なまたは正午更新可能な UI を使用した、プリコンパイルされたかどうかを通知します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-207">This file informs the ASP.NET runtime that the application was precompiled and whether it was precompiled with an updatable or noon-updatable UI.</span></span>

<span data-ttu-id="ccc9e-208">いずれかを開くの最後に、少し、 `.aspx` Visual Studio または任意のテキスト エディターを使用してターゲットの場所にファイル。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-208">Finally, take a moment to open one of the `.aspx` files in the target location using Visual Studio or your text editor of choice.</span></span> <span data-ttu-id="ccc9e-209">更新可能なユーザー インターフェイスでの展開をプリコンパイルする場合、ターゲットの場所のディレクトリ内の ASP.NET ページには、web サイトで、対応するファイルと正確な同じマークアップが含まれます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-209">When precompiling for deployment with an updatable user interface, the ASP.NET pages in the target location directory contain the exact same markup as the corresponding files in the website.</span></span>

### <a name="precompiling-for-deployment-with-a-non-updatable-user-interface"></a><span data-ttu-id="ccc9e-210">更新不可能なユーザー インターフェイスでのデプロイのためのプリコンパイル</span><span class="sxs-lookup"><span data-stu-id="ccc9e-210">Precompiling for Deployment With a Non-Updatable User Interface</span></span>

<span data-ttu-id="ccc9e-211">ASP.NET コンパイラ ツールは、更新不可の UI を使用した展開のサイトのプリコンパイルも使用できます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-211">The ASP.NET compiler tool can also be used to precompile a site for deployment with a non-updatable UI.</span></span> <span data-ttu-id="ccc9e-212">ASP.NET ページ、ユーザー コントロール、およびターゲット ディレクトリ内のマスター ページは、マークアップの除去される UI 更新、重要な違いプリコンパイル同様に機能更新不可能な UI を使用したサイトをプリコンパイルします。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-212">Precompiling the site with a non-updatable UI works much like precompiling with an updatable UI, the key difference being that the ASP.NET pages, User Controls, and master pages in the target directory are stripped of their markup.</span></span> <span data-ttu-id="ccc9e-213">展開、更新不可の UI を使用した web サイトをプリコンパイルするビルド メニューから Web サイトの発行オプションを選択が、「このプリコンパイル済みサイトを更新を許可する」オプションをオフにします (を参照してください**図 4**)。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-213">To precompile a website for deployment with a non-updatable UI, choose the Publish Web Site option from the Build menu, but uncheck the "Allow this precompiled site to be updatable" option (see **Figure 4**).</span></span>

[![](precompiling-your-website-cs/_static/image11.png)](precompiling-your-website-cs/_static/image10.png)

<span data-ttu-id="ccc9e-214">**図 4**:「このプリコンパイル済みサイトを更新を許可する」オプションをプリコンパイルで、非 UI を更新をオフにします。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-214">**Figure 4**: Uncheck the "Allow this precompiled site to be updatable" Option To Precompile With a Non-Updatable UI</span></span>  
 <span data-ttu-id="ccc9e-215">([フルサイズの画像を表示する をクリックします](precompiling-your-website-cs/_static/image12.png))。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-215">([Click to view full-size image](precompiling-your-website-cs/_static/image12.png))</span></span>

<span data-ttu-id="ccc9e-216">**図 5**更新不可能なユーザー インターフェイスを備えたをプリコンパイルした後、ターゲットの場所フォルダーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-216">**Figure 5** shows the target location folder after precompiling with a non-updatable user interface.</span></span>

[![](precompiling-your-website-cs/_static/image14.png)](precompiling-your-website-cs/_static/image13.png)

<span data-ttu-id="ccc9e-217">**図 5**: 更新不可能な UI を使用したデプロイのターゲットの場所フォルダー</span><span class="sxs-lookup"><span data-stu-id="ccc9e-217">**Figure 5**: The Target Location Folder for Deployment With a Non-Updatable UI</span></span>  
 <span data-ttu-id="ccc9e-218">([フルサイズの画像を表示する をクリックします](precompiling-your-website-cs/_static/image15.png))。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-218">([Click to view full-size image](precompiling-your-website-cs/_static/image15.png))</span></span>

<span data-ttu-id="ccc9e-219">比較**図 3**に**図 5**します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-219">Compare **Figure 3** to **Figure 5**.</span></span> <span data-ttu-id="ccc9e-220">2 つのフォルダーを同じに見えるかもしれませんが、更新不可の UI フォルダーに、マスター ページがされていないことに注意してください`Site.master`します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-220">While the two folders may look identical, note that the non-updatable UI folder lacks the master page, `Site.master`.</span></span> <span data-ttu-id="ccc9e-221">While**図 5**した、宣言型マークアップを削除し、プレース ホルダー テキストで置換されたことが表示されます、これらのファイルの内容を表示する場合に、さまざまな ASP.NET ページが含まれています:"This is によって生成されたマーカー ファイルプリコンパイルのツールでは、削除しないでください"。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-221">And while **Figure 5** includes the various ASP.NET pages, if you view the contents of these files you'll see that they've been stripped of their declarative markup and replaced with the placeholder text: "This is a marker file generated by the precompilation tool, and should not be deleted!"</span></span>

[![](precompiling-your-website-cs/_static/image17.png)](precompiling-your-website-cs/_static/image16.png)

<span data-ttu-id="ccc9e-222">**図 5**: 宣言型マークアップが ASP.NET ページから削除されました</span><span class="sxs-lookup"><span data-stu-id="ccc9e-222">**Figure 5**: The Declarative Markup Has Been Removed from the ASP.NET Pages</span></span>

<span data-ttu-id="ccc9e-223">`Bin`フォルダー**図 3**と**5**より大幅に異なります。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-223">The `Bin` folders in **Figures 3** and **5** differ more substantially.</span></span> <span data-ttu-id="ccc9e-224">アセンブリだけでなく、`Bin`フォルダー**図 5**が含まれています、 `.compiled` ASP.NET ページ、ユーザー コントロール、およびマスター ページのファイル。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-224">In addition to the assemblies, the `Bin` folder in **Figure 5** includes a `.compiled` file for each ASP.NET page, User Control, and master page.</span></span>

<span data-ttu-id="ccc9e-225">更新不可能な UI を使用したサイトをプリコンパイルが個人または会社のインストールまたは運用環境で web サイトを管理ユーザーによって変更される ASP.NET ページの内容のしない場合に便利です。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-225">Precompiling a site with a non-updatable UI is useful in situations where you do not want the ASP.NET pages' contents to be modified by the person or company who installs or manages the website in the production environment.</span></span> <span data-ttu-id="ccc9e-226">独自の web サーバーをインストールするお客様に販売する ASP.NET web アプリケーションをビルドする場合は、直接編集することによって、サイトの外観を変更しない場合、ことを確認たい、`.aspx`出荷するページ。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-226">If you build an ASP.NET web application that you sell to customers to install on their own web servers, you may want to ensure that they do not modify the look and feel of your site by directly editing the `.aspx` pages you ship them.</span></span> <span data-ttu-id="ccc9e-227">更新不可能な UI を使用した web サイトをプリコンパイルして、プレース ホルダーを出荷する`.aspx`顧客調査またはその内容を変更するを防ぐ、インストールの一部としてページ。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-227">By precompiling your website with a non-updatable UI, you ship the placeholder `.aspx` pages as part of the installation, thereby preventing your customers from examining or modifying their content.</span></span>

### <a name="precompiling-from-the-command-line"></a><span data-ttu-id="ccc9e-228">コマンドラインからのプリコンパイル</span><span class="sxs-lookup"><span data-stu-id="ccc9e-228">Precompiling from the Command Line</span></span>

<span data-ttu-id="ccc9e-229">背後では、Visual Studio の Web サイトの発行 ダイアログ ボックスが ASP.NET コンパイル ツールを呼び出します (`aspnet_compiler.exe`)、web サイトをプリコンパイルします。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-229">Behind the scenes, Visual Studio's Publish Web Site dialog box invokes the ASP.NET compilation tool (`aspnet_compiler.exe`) to precompile the website.</span></span> <span data-ttu-id="ccc9e-230">または、コマンドラインからこのツールを呼び出すことができます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-230">Alternatively, you can invoke this tool from the command line.</span></span> <span data-ttu-id="ccc9e-231">実際には、Visual Web Developer を使用する場合、必要があります、コマンドラインからコンパイラ ツールを実行するように Visual Web Developer のビルド メニューで、Web サイトの発行オプションが含まれません。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-231">In fact, if you use Visual Web Developer then you will need to run the compiler tool from the command line, as Visual Web Developer's Build menu does not include the Publish Web Site option.</span></span>

<span data-ttu-id="ccc9e-232">コマンドラインからコンパイラ ツールを使用して、ドロップ、コマンドラインに、フレームワークのディレクトリに移動して開始`%WINDIR%\Microsoft.NET\Framework\v2.0.50727`します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-232">To use the compiler tool from the command line, start by dropping to the command line and navigating to the framework directory, `%WINDIR%\Microsoft.NET\Framework\v2.0.50727`.</span></span> <span data-ttu-id="ccc9e-233">次に、コマンドラインに次のステートメントを入力します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-233">Next, enter the following statement into the command line:</span></span>

`aspnet_compiler -p "physical_path_to_app" -v / -f -u "target_location_folder"`

<span data-ttu-id="ccc9e-234">上記のコマンドは、ASP.NET コンパイラ ツールを起動 (`aspnet_compiler.exe`) とを使用して、`-p`スイッチをルートと web サイトをプリコンパイルするように指示します*物理\_パス\_に\_アプリ*;この値はのようになります`C:\MySites\BookReviews`引用符で区切る必要があります。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-234">The above command launches the ASP.NET compiler tool (`aspnet_compiler.exe`) and, via the `-p` switch, instructs it to precompile the website rooted at *physical\_path\_to\_app*; this value will be something like `C:\MySites\BookReviews`, and should be delimited by quotation marks.</span></span>

<span data-ttu-id="ccc9e-235">`-v`スイッチは、サイトの仮想ディレクトリを指定します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-235">The `-v` switch specifies the virtual directory of the site.</span></span> <span data-ttu-id="ccc9e-236">サイトが IIS メタベースに既定の web サイトとして登録されているかどうかは、省略することができます、`-p`切り替えるし、アプリケーションの仮想ディレクトリを指定するだけです。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-236">If your site is registered as the default website in the IIS metabase then you can omit the `-p` switch and just specify the virtual directory of the application.</span></span> <span data-ttu-id="ccc9e-237">使用する場合、`-p`切り替えるには、値続行、`-v`スイッチは、web サイトのルートを示すし、アプリケーション ルートの参照を解決するために使用します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-237">If you use the `-p` switch, the value proceeding the `-v` switch indicates the root of the website, and is used to resolve application-root references.</span></span> <span data-ttu-id="ccc9e-238">たとえばの値を指定する場合`-v /MySite`をアプリケーションで参照し、`~/path/file`として解決されます`~/MySite/path/file`します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-238">For instance, if you specify a value of `-v /MySite` then references in the application to `~/path/file` will be resolved as `~/MySite/path/file`.</span></span> <span data-ttu-id="ccc9e-239">スイッチを使用した書評サイトは、web ホスト会社にルート ディレクトリに配置されているため`-v /`します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-239">Because the Book Reviews site is located at the root directory at my web hosting company I have used the switch `-v /`.</span></span>

<span data-ttu-id="ccc9e-240">`-f`スイッチ、存在する場合、指示を上書きするコンパイル ツール、*ターゲット\_場所\_フォルダー*ディレクトリが既に存在する場合。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-240">The `-f` switch, if present, instructs the compilation tool to overwrite the *target\_location\_folder* directory if it already exists.</span></span> <span data-ttu-id="ccc9e-241">省略した場合、`-f`スイッチと、ターゲットの場所のフォルダーが既に存在する、コンパイル ツールは、エラーで終了:"エラー ASPRUNTIME: ターゲット ディレクトリが空ではありません。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-241">If you omit the `-f` switch and the target location folder already exists, the compilation tool will quit with the error: "error ASPRUNTIME: The target directory is not empty.</span></span> <span data-ttu-id="ccc9e-242">ください手動で削除または、別のターゲットを選択します。"</span><span class="sxs-lookup"><span data-stu-id="ccc9e-242">Please delete it manually or choose a different target."</span></span>

<span data-ttu-id="ccc9e-243">`-u`スイッチに存在する場合は、更新可能なユーザー インターフェイスを作成するツールを通知します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-243">The `-u` switch, if present, informs the tool to create an updatable user interface.</span></span> <span data-ttu-id="ccc9e-244">更新を可能なユーザー インターフェイスを使用して、サイトをプリコンパイルするには、このスイッチを省略します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-244">Omit this switch to precompile the site with a non-updatable user interface.</span></span>

<span data-ttu-id="ccc9e-245">最後に、*ターゲット\_場所\_フォルダー* ; ターゲット場所のディレクトリへの物理パスは、この値はのようになります`C:\MySites\Output\BookReviews`引用符で区切る必要があります。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-245">Lastly, the *target\_location\_folder* is the physical path to the target location directory; this value will be something like `C:\MySites\Output\BookReviews`, and should be delimited by quotation marks.</span></span>

## <a name="deploying-the-precompiled-website"></a><span data-ttu-id="ccc9e-246">プリコンパイル済みの web サイトを展開します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-246">Deploying the Precompiled Website</span></span>

<span data-ttu-id="ccc9e-247">この時点で、更新可能なと、更新不可のユーザー インターフェイス オプションを使用して web サイトをプリコンパイルする ASP.NET コンパイル ツールを使用する方法を学習しました。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-247">At this point we have seen how to use the ASP.NET compilation tool to precompile a website using both the updatable and non-updatable user interface options.</span></span> <span data-ttu-id="ccc9e-248">ただし、サンプルきませんでしたがプリコンパイル済み web サイトをローカル フォルダー、および運用環境にありません。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-248">However, our examples thus far have precompiled the website to a local folder, and not to the production environment.</span></span> <span data-ttu-id="ccc9e-249">良い知らせはプリコンパイル済みの web サイトを展開を簡単から実行できる Visual Studio またはその他のファイル コピーのメカニズムによって、ようにスタンドアロン FTP クライアント。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-249">The good news is that deploying the precompiled website is a breeze and can be done through Visual Studio or through some other file copy mechanism, such as from a stand-alone FTP client.</span></span>

<span data-ttu-id="ccc9e-250">Web サイトの発行 ダイアログ ボックス (最初に示した**図 1**) にプリコンパイル済みの web サイトのファイルをコピーする場所を示すターゲットの場所のオプションがあります。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-250">The Publish Web Site dialog box (first shown in **Figure 1**) has a target location option, which indicates where the precompiled website files are copied to.</span></span> <span data-ttu-id="ccc9e-251">この場所は、リモート web サーバーまたは FTP サーバーを指定できます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-251">This location can be a remote web server or FTP server.</span></span> <span data-ttu-id="ccc9e-252">リモート サーバーをこのテキスト ボックスに入力をプリコンパイルし、1 つの手順で指定されたサーバーに、web サイトをデプロイします。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-252">Entering a remote server into this textbox precompiles and deploys the website to the specified server in one step.</span></span> <span data-ttu-id="ccc9e-253">または、ローカル フォルダーに web サイトをプリコンパイルし、FTP またはその他のいくつかのアプローチを使用して運用環境にそのフォルダーの内容を手動でコピーできます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-253">Alternatively, you can precompile the website to a local folder and then manually copy the contents of that folder to the production environment via FTP or some other approach.</span></span>

<span data-ttu-id="ccc9e-254">Visual Studio の Web サイトの発行 ダイアログ ボックスを使用して自動的に展開されている、プリコンパイル済みの web サイトは単純なサイトの便利な開発および運用環境の構成の違いがないです。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-254">Having the precompiled website automatically deployed via Visual Studio's Publish Web Site dialog box is helpful for simple sites where there are no configuration differences between the development and production environments.</span></span> <span data-ttu-id="ccc9e-255">ただしで説明するよう、 [*一般的な構成の相違点の間で開発および運用*チュートリアル](common-configuration-differences-between-development-and-production-cs.md)のような違いが存在するケースも少なくありません。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-255">However, as noted in the [*Common Configuration Differences Between Development and Production* tutorial](common-configuration-differences-between-development-and-production-cs.md) it is not uncommon for such differences to exist.</span></span> <span data-ttu-id="ccc9e-256">たとえば、書籍レビューの web アプリケーションより開発環境での運用環境で別のデータベースを使用します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-256">For example, the Book Reviews web application uses a different database in the production environment than in the development environment.</span></span> <span data-ttu-id="ccc9e-257">Visual Studio では、リモート サーバーに、web サイトを発行、開発環境で構成ファイルの情報を盲目的にコピーします。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-257">When Visual Studio publishes the website to a remote server it blindly copies up the configuration file information in the development environment.</span></span>

<span data-ttu-id="ccc9e-258">サイト構成の違い、開発および運用環境でローカル ディレクトリにサイトをプリコンパイルを運用環境に固有の構成ファイルにコピーし、プリコンパイル済みの出力の内容をコピーする最適な場合があります。実稼働します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-258">For sites with configuration differences between the development and production environments it may be best to precompile the site to a local directory, copy over the production-specific configuration files, and then copy the contents of the precompiled output to production.</span></span>

<span data-ttu-id="ccc9e-259">開発環境から運用環境にファイルをコピーする方法についてを参照してください、 [ *FTP クライアントを使用して、web サイトを展開する*](deploying-your-site-using-an-ftp-client-cs.md)と[ *Web サイトを使用して Visual Studio の展開*](determining-what-files-need-to-be-deployed-cs.md)チュートリアル。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-259">For a refresher on copying files from the development environment to the production environment refer to the [*Deploying Your Website Using an FTP Client*](deploying-your-site-using-an-ftp-client-cs.md) and [*Deploying Your Website Using Visual Studio*](determining-what-files-need-to-be-deployed-cs.md) tutorials.</span></span>

## <a name="summary"></a><span data-ttu-id="ccc9e-260">まとめ</span><span class="sxs-lookup"><span data-stu-id="ccc9e-260">Summary</span></span>

<span data-ttu-id="ccc9e-261">ASP.NET コンパイルの 2 つのモードをサポートしています。 自動と明示的な。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-261">ASP.NET supports two modes of compilation: automatic and explicit.</span></span> <span data-ttu-id="ccc9e-262">前のチュートリアルで既に説明した、Web Application Projects (Wap) は、Web サイト プロジェクト (Wsp) では、自動コンパイルを使用して、既定では明示的なコンパイルを使用します。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-262">As discussed in previous tutorials, Web Application Projects (WAPs) use explicit compilation whereas Web Site Projects (WSPs) use automatic compilation, by default.</span></span> <span data-ttu-id="ccc9e-263">ただし、ASP.NET コンパイル ツールを使用して展開する前に、WSP が明示的にコンパイルすることができます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-263">However, it is possible to explicitly compile a WSP prior to deployment by using the ASP.NET compilation tool.</span></span>

<span data-ttu-id="ccc9e-264">このチュートリアルでは、デプロイのサポートのコンパイル ツールのプリコンパイルに重点を置いています。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-264">This tutorial focused on the compilation tool's Precompilation for Deployment support.</span></span> <span data-ttu-id="ccc9e-265">コンパイル ツールにターゲットの場所フォルダーを作成し、指定された web アプリケーションのソース コードをコンパイルし、これらのコピーの展開をプリコンパイルする場合、ターゲットの場所のフォルダーにアセンブリとコンテンツ ファイルをコンパイルします。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-265">When precompiling for deployment, the compilation tool creates a target location folder, compiles the specified web application's source code, and copies these compiled assemblies and the content files into the target location folder.</span></span> <span data-ttu-id="ccc9e-266">更新可能なまたは、更新不可のユーザー インターフェイスを作成する、コンパイル ツールを構成できます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-266">The compilation tool can be configured to create an updatable or non-updatable user interface.</span></span> <span data-ttu-id="ccc9e-267">更新を可能なユーザー インターフェイスのオプションを使用してプリコンパイルする、コンテンツ ファイルで宣言型マークアップは削除されます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-267">When precompiling with a non-updatable user interface option, the declarative markup in the content files is removed.</span></span> <span data-ttu-id="ccc9e-268">簡単に言うと、プリコンパイルを使用すると、必要な場合は、任意のソース コード ファイルを含めずにおよび、宣言型マークアップを削除するには、Web サイト プロジェクト ベースのアプリケーションをデプロイできます。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-268">In a nutshell, precompilation permits you to deploy your Web Site Project-based application without including any source code files and with the declarative markup removed, if desired.</span></span>

<span data-ttu-id="ccc9e-269">満足のプログラミングです。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-269">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="ccc9e-270">関連項目</span><span class="sxs-lookup"><span data-stu-id="ccc9e-270">Further Reading</span></span>

<span data-ttu-id="ccc9e-271">このチュートリアルで説明したトピックの詳細については、次の情報を参照してください。</span><span class="sxs-lookup"><span data-stu-id="ccc9e-271">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="ccc9e-272">ASP.NET Web サイトのプリコンパイル</span><span class="sxs-lookup"><span data-stu-id="ccc9e-272">ASP.NET Web Site Precompilation</span></span>](https://msdn.microsoft.com/library/ms228015.aspx)
- [<span data-ttu-id="ccc9e-273">分離コードと ASP.NET 2.0 でのコンパイル</span><span class="sxs-lookup"><span data-stu-id="ccc9e-273">Codebehind and Compilation in ASP.NET 2.0</span></span>](https://msdn.microsoft.com/magazine/cc163675.aspx)
- [<span data-ttu-id="ccc9e-274">ASP.NET でのプリコンパイル</span><span class="sxs-lookup"><span data-stu-id="ccc9e-274">Precompilation in ASP.NET</span></span>](http://www.odetocode.com/Articles/417.aspx)
- [<span data-ttu-id="ccc9e-275">ASP.NET でのプリコンパイル済みサイトのオプション</span><span class="sxs-lookup"><span data-stu-id="ccc9e-275">Precompiled Site Options in ASP.NET</span></span>](http://www.dotnetperls.com/precompiled)

> [!div class="step-by-step"]
> <span data-ttu-id="ccc9e-276">[前へ](logging-error-details-with-elmah-cs.md)
> [次へ](users-and-roles-on-the-production-website-cs.md)</span><span class="sxs-lookup"><span data-stu-id="ccc9e-276">[Previous](logging-error-details-with-elmah-cs.md)
[Next](users-and-roles-on-the-production-website-cs.md)</span></span>
