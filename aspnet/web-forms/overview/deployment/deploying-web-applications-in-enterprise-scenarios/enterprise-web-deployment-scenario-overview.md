---
uid: web-forms/overview/deployment/deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview
title: 'エンタープライズ Web 展開: シナリオの概要 |Microsoft Docs'
author: jrjlee
description: この一連のチュートリアルでは、現実的なと共に、架空の企業の展開シナリオの複雑さのレベルを持つサンプル ソリューションを使用して、ref を提供する.
ms.author: aspnetcontent
ms.date: 05/03/2012
ms.assetid: aa862153-4cd8-4e33-beeb-abf502c6664f
msc.legacyurl: /web-forms/overview/deployment/deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview
msc.type: authoredcontent
ms.openlocfilehash: ce533b246b14c9e041c89a778c022784f09d01a0
ms.sourcegitcommit: b28cd0313af316c051c2ff8549865bff67f2fbb4
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/05/2018
ms.locfileid: "37836747"
---
<a name="enterprise-web-deployment-scenario-overview"></a>エンタープライズ Web 展開: シナリオの概要
====================
によって[Jason Lee](https://github.com/jrjlee)

[PDF のダウンロード](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> この一連のチュートリアルは、参照実装を提供して、タスクとチュートリアルの一般的なコンテキストを提供すると共に、架空の企業の展開シナリオの複雑さの現実的なレベルを持つサンプル ソリューションを使用します。 このトピックでは、チュートリアルのシナリオについて説明し、サンプル ソリューションを紹介します。


## <a name="scenario-description"></a>シナリオの説明

Fabrikam, inc.、架空の会社では、リモートの営業チームを格納し、web インターフェイスから連絡先情報を取得できるソリューションを作成します。

Fabrikam 社のアプリケーション ライフ サイクル管理 (ALM) のプロセスでは、ソフトウェア開発プロセスのさまざまな段階で 3 つのサーバー環境にデプロイするソリューションが必要です。

- 開発テストまたは"sandbox"環境。
- イントラネット ベース ステージング環境です。
- インターネットに接続する運用環境の場合は。

別の構成およびセキュリティの要件がこれらの環境と、それぞれが独自の展開の課題をもたらします。

### <a name="the-fabrikam-inc-server-infrastructure"></a>Fabrikam, inc.サーバー インフラストラクチャ

これは、Fabrikam, inc. の開発とデプロイの高度なインフラストラクチャ

![](enterprise-web-deployment-scenario-overview/_static/image1.png)

開発者のワークステーション、ソース管理のインフラストラクチャ、開発テスト環境、および Fabrikam.net ドメイン内で、イントラネットのネットワーク上のすべてのステージング環境です。 運用環境では、ファイアウォールによって、イントラネットのネットワークから分離された、境界ネットワーク (DMZ、非武装地帯、およびスクリーン サブネットとも呼ばれます) に存在します。 これは一般的な展開シナリオです。 通常、ファイアウォールまたはゲートウェイ サーバーを使用して、内部サーバー インフラストラクチャからインターネットに接続する web サーバーを分離します。

この例では、次のように記述されています。

- 別のビルド サーバーで Team Foundation Server (TFS) 2010 サーバーでは、ソース管理と継続的インテグレーション (CI) 機能を提供します。
- 開発者のテスト環境には、インターネット インフォメーション サービス (IIS) 7.5 web サーバーと SQL Server 2008 R2 データベース サーバーが含まれています。
- 運用環境には、複数の IIS 7.5 web サーバーが SQL Server 2008 R2 のデータベース サーバーと共に、Web Farm Framework (WFF) のコント ローラー サーバーで同期が含まれています。 実際には、データベース サーバーは、スケーラビリティと可用性を向上させるためにクラスタ リングやミラーリングを使用できます。
- 可能な限り、運用環境の構成をレプリケートするは、ステージング環境は設計されています。
- ファイアウォールとネットワーク分離ポリシーでは、境界ネットワークに、イントラネットから直接、自動化されたデプロイは許可されていません。

各環境の構成が 2 番目のチュートリアルではさらに詳しく説明されている[Web 配置のサーバー環境の構成](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md)します。

### <a name="team-roles-for-alm"></a>ALM のチームの役割

これらのユーザーが作成、管理、ビルド、および連絡先マネージャー ソリューションの発行に関連します。

- Matt 明が Fabrikam, inc. の web アプリケーション開発者です。彼は、Visual Studio 2010 を使用して、連絡先マネージャー ソリューションを開発するチームの一部です。 Matt は、自分のニーズを満たすために環境を構成することができます、開発テスト環境でサーバーで完全な管理者権限を持ちます。 彼は、ユーザー、連絡先マネージャー ソリューションのソース コードを格納して、Visual Studio 2010 の TFS インスタンスへのアクセスもあります。
- Rob Walters は、Fabrikam, Inc. の開発チーム用のサーバー管理者です。 Rob は TFS サーバーに管理アクセス権を持つできるように、TFS とチーム ビルドのすべての側面を構成しています。 Rob もテスト サーバーとステージング web サーバーにアクセスする管理とテスト環境とステージング環境のデータベース サーバーのデータベース管理者 (DBA) として機能します。 Rob が構成されている Team Build でこれらのタスクを実行するために、TFS サーバー。

    - 構築し、ユーザーが TFS にファイルをチェックインするたびに、アプリケーションの単体テストを実行します。 これは CI と呼ばれます。
    - アプリケーションが単体テストに合格したら、Contact Manager アプリケーションをテスト環境を自動的に展開します。 これは、初期デプロイおよびデータベースへすべての更新プログラムをテスト サーバーに初期デプロイ後にデータベースのパブリッシュが含まれます。
    - Contact Manager アプリケーションをシングル ステップのプロセスでステージング環境をデプロイします。
    - 運用環境にアプリケーションを発行する Web サーバーの管理者と DBA が使用できる Web パッケージを作成します。
- Lisa Andrews が、サーバー管理者が、Fabrikam, Inc. の運用サーバーへのアプリケーションをデプロイします。 TFS チーム ビルドを格納する web デプロイ パッケージで Contact Manager アプリケーションをビルドすると、共有に対する読み取りアクセス権があります。 彼女は彼女を運用環境にアプリケーションをデプロイできるように、実稼働 web サーバーへの管理アクセスもあります。 さらに、彼女は、データベースとデータベースの更新プログラムを実稼働環境でデータベース サーバーに配置する DBA として機能します。

<a id="_The_Contact_Manager"></a>

### <a name="the-contact-manager-solution"></a>連絡先マネージャー ソリューション

連絡先マネージャー ソリューションは、登録、ログインしているユーザーを追加して、web インターフェイスからの連絡先情報を編集できるように設計されています。 連絡先マネージャー ソリューションは、次の 4 つの個別のプロジェクトで構成されます。

![](enterprise-web-deployment-scenario-overview/_static/image2.png)

- **ContactManager.Mvc**します。 これは、ソリューションのエントリ ポイントを表す ASP.NET MVC3 web アプリケーションのプロジェクトです。 作成し、連絡先の詳細を表示する機能をユーザーに提供するなど、いくつかの基本的な web アプリケーション機能を提供します。 アプリケーションは、連絡先との認証と承認を管理するには、ASP.NET アプリケーション サービス データベースを管理する Windows Communication Foundation (WCF) サービスに依存します。
- **ContactManager.Database**します。 これは、Visual Studio 2010 データベース プロジェクトです。 プロジェクトでは、連絡先の詳細をストア データベースのスキーマを定義します。
- **ContactManager.Service**します。 これは、WCF web サービス プロジェクトです。 実行する呼び出し元を許可するエンドポイントを作成する WCF の公開を取得するには、更新、および Contact Manager データベースの (CRUD) 操作を削除します。 サービスは、Contact Manager データベースと ContactManager.Common.dll アセンブリに依存します。
- **ContactManager.Common**します。 これは、クラス ライブラリ プロジェクトです。 WCF サービスは、このアセンブリで定義された型に依存します。

このシリーズでは、最初のチュートリアルでは、ソリューションとその展開の要件の完全なレビューが提供される[、企業の Web 展開](../web-deployment-in-the-enterprise/web-deployment-in-the-enterprise.md)します。

<a id="_Deployment_Tasks"></a>

## <a name="deployment-tasks"></a>配置タスク

大規模な組織でさまざまな環境へのアプリケーションの配置では、いくつかの個別のタスクがあります。 チュートリアルでは、対応する主なタスクを次に示します。

![](enterprise-web-deployment-scenario-overview/_static/image3.png)

このドキュメントで既に説明したユーザーの観点から、展開プロセスでは、各ステップの一覧を次に示します。

1. チームのすべてのメンバーでは、キーの展開の要件と問題を特定の Visual Studio 2010 で連絡先マネージャー ソリューションを確認します。
2. Matt 明では、開発テスト環境のデプロイ ロジックの初期のテストを実行するには、開発者のワークステーションから直接連絡先マネージャー ソリューションをデプロイできます。
3. Matt 明では、TFS でソース管理にアプリケーションを追加します。
4. Rob Walters は、チーム ビルドで、連絡先マネージャー ソリューションのさまざまなビルド定義を作成します。 1 つのビルド定義では、CI を使用して、ユーザーが新しいコードをチェックインするたびに、ソリューションを開発者のテスト環境に配置します。 別のビルド定義には、必要に応じて、ステージング環境へのユーザー トリガーの展開ことができます。
5. ユーザーが新しいコードをチェックインするたびに Team Build 自動的にソリューションのコンポーネントをビルド、単体テストを実行およびビルドが成功した場合、開発者のテスト環境と単体テストを成功にソリューションをデプロイします。
6. ユーザーには、ステージング環境へのデプロイがトリガーされた場合は、ソリューションがパッケージ化され、1 つの手順にデプロイされています。 このプロセスには、運用環境に手動で展開のパッケージも生成されます。
7. Lisa Andrews は、手順 6 で作成した web パッケージを手動でインポートすることによって、運用環境にアプリケーションをデプロイします。

### <a name="key-deployment-issues"></a>展開に関する問題

連絡先マネージャー ソリューションと、Fabrikam, Inc. のシナリオには、さまざまな一般的な問題と複雑なエンタープライズ規模のソリューションをデプロイするときに発生する可能性のある課題が強調表示します。 例えば:

- できる必要がありますをプロジェクトの開発者など、複数の環境に配置またはテスト環境、プラットフォーム、および実稼働サーバーをステージングします。 ソリューションは、環境ごとに異なる構成設定を展開する必要があります。
- シングル ステップまたは自動化されたビルドと展開プロセスの一環として同時に複数の依存プロジェクトをデプロイする必要があります。
- できるようにドライブを展開する自動プロセスでする必要があります。 たとえば、新しいコードをチェックインするときに、ステージング環境への web アプリケーションをデプロイする CI プロセスを使用します。
- 開発者は、適切な構成設定やターゲット環境ごとに必要な資格情報を持つ可能性がありますが、展開プロセスを制御し、Visual Studio の外部から展開の変数を設定するをできるようにする必要があります。
- データベースのスキーマに基づくプロジェクトをデプロイし、以降のデプロイに既存のデータを保持する必要があります。
- ユーザー アカウントのデータを展開することがなく、アド ホックにメンバーシップ データベースをデプロイする必要があります。 また、既存のユーザー アカウントのデータを失うことがなく展開されたメンバーシップ データベースのスキーマを更新する必要があります。
- コンテンツをさまざまなターゲット環境に展開するときに、特定のファイルまたはフォルダーを除外する必要があります。

さらに、更新が頻繁かつ増分配置を管理するにはいくつか追加の課題をスローします。 例えば:

- 開発者が新しいコードをチェックインするたびに、単体テストを実行します。 コードが単体テストに合格している場合、ソリューションを展開するのみです。
- ユーザーをリダイレクトするステージング環境または運用環境への web アプリケーションを展開するときに、*アプリ\_offline.htm*展開プロセスの実行中のファイル。
- 展開アクティビティを記録します。 展開プロセスでは、指定した受信者に成功または失敗したデプロイの電子メールの通知を送信する必要があります。
- 自動化された展開に失敗した場合、展開プロセスを現在の展開を再試行または代わりに前のバージョンの web パッケージをデプロイします。

> [!div class="step-by-step"]
> [前へ](deploying-web-applications-in-enterprise-scenarios.md)
> [次へ](application-lifecycle-management-from-development-to-production.md)
